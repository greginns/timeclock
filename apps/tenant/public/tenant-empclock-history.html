<page id='tenant-empclock-history' style='display: none'>
  <section id='tenant-empclock-history-section'>

    <div mvc-show='this.$get("loggedIn")'>
      <div class='row form-group'>
        <div class='col-12 col-sm-4'>
          <select mvc-value='dept' mvc-each='depts' class='form-control'>
            <option mvc-option='{text: "depts[$index].name", value: "depts[$index].code"}'></option>
          </select>
        </div>

        <div class='col-12 col-sm-4'>
          <select mvc-value='emp' mvc-each='employees' class='form-control'>
            <option mvc-option='{text: "employees[$index].name", value: "employees[$index].code"}'></option>
          </select>
        </div>
      </div>

      <div class='row form-group'>
        <div class='col-4'>
          <div class='input-group'>
            <input type="text" maxlength="10" mvc-value="sdate|date['MM/DD/YYYY']" mvc-edit="date" mvc-event-type="blur" class="form-control" placeholder='Start Date'/>
            <div class='input-group-append' mvc-on='{click: "date:bootcal"}'>
              <div class="input-group-text">&#128197;</div>
            </div>
          </div>        
        </div>
        <div class='col-4'>
          <div class='input-group'>
            <input type="text" maxlength="10" mvc-value="edate|date['MM/DD/YYYY']" mvc-edit="date" mvc-event-type="blur" class="form-control" placeholder='End Date' />
            <div class='input-group-append' mvc-on='{click: "date:bootcal"}'>
              <div class="input-group-text">&#128197;</div>
            </div>
          </div>        
        </div>
      </div>

      <div class='row form-group'>
        <div class='col-3'>
          {{ buttons.btn(class='primary', mvc_click='run', text='Run') }}
        </div>
        <div class='col-4' mvc-show='this.$get("hasRun")'>
          {{ buttons.btn(class='success', mvc_click='share', text='Share') }}
        </div>
      </div>
    </div>
    
    <div class='row form-group'>
      <div class='col-12'>
        <span mvc-html='report'></span>
      </div>
    </div>
    
    <div aria-live="polite" aria-atomic="true" style="position: absolute; bottom: 5px; right: 0; z-index:20000">
      <div style="position: absolute; bottom: 5px; right: 0; min-width: 350px">
        <div class="toast" id="tenant-empclock-history-toast1" role="alert" aria-live="assertive" aria-atomic="true">
          <div class="toast-header">
            <strong class="mr-auto">TimeKeep</strong>
            <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="toast-body">
            <span mvc-text='toastMessage'></span>
          </div>
        </div>  
      </div>
    </div>
  </section>
  
  <script>
    (function() {
      var page = $('#tenant-empclock-history');
      var section = $('#tenant-empclock-history-section');
      var path = '/history';
      var title = 'history';

      App.mvcs[section[0].id] = {mvcObj: App.mvcObjs.tenant_empclock_history, page: page, section: section, path: path, title: title};
    })();
  </script>
</page>
