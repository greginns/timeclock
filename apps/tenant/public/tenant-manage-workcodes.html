<page id='tenant-manage-workcodes' style='display: none'>
  <section id='tenant-manage-workcodes-section'>
    
    <div class='row form-group justify-content-center'>
      <div class='col-12 col-sm-3 mb-4'>
        <div class='card'>
          <div class='card-header'>
            <div class='row'>
              <div class='col-8'>
                {{ buttons.btnsm(class='success', mvc_click='newWork', text='+ New Work Code') }}
              </div>
            </div>          
          </div>
          
          <div class='card-body'>
            <div class='row'>
              <div class='col-12'>
                <select mvc-each='workcodes' mvc-value='workPK' class='form-control' size='10' style='width: 100%'>
                  <option mvc-option='{text: "workcodes[$index].desc", value: "workcodes[$index].code"}'></option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class='col-12 col-sm-6'>
        <div class='card'>
          <div class='card-header'>
            <div class='row'>
              <div class='col-6 col-sm-3'>
                {{ fields.Char(type='text', id=workcode.code.id, maxlength=workcode.code.maxLength, mvc_value='workcode.code', mvc_event_type='blur', mvc_disabled='this.$get("workPK")', label=workcode.code.verbose) }}
              </div>
              
              <div class='col-sm-1'></div>
              
              <div class='col-12 col-sm-4'>
                {{ fields.Boolean(id=workcode.active.id, mvc_checked='workcode.active', label=workcode.active.verbose) }}
              </div>
            </div>          
          </div>
          
          <div class='card-body'>
            <div class='row form-group'>
              <div class='col-12 col-sm-8'>
                {{ fields.Char(type='text', id=workcode.desc.id, maxlength=workcode.desc.maxLength, mvc_value='workcode.desc', label=workcode.desc.verbose) }}
              </div>
              <div class='col-12 col-sm-4'>
                {{ fields.SelectChoices(id=workcode.method.id, size='1', mvc_value='workcode.method', choices=workcode.method.choices, label=workcode.method.verbose) }}
              </div>
            </div>
            
            <div class='row'>
              <div class='col-12 col-sm-6'>
                {{ fields.SelectMVC(id=workcode.dept.id, size='10', mvc_value='workcode.dept', mvc_each='departments', valueField='code', textField='name', label=workcode.dept.verbose) }}
              </div>
            </div>
          </div>
          
          <div class='card-footer'>
            <div class='row'>
              <div class='col-12'>
                <span mvc-hide='this.$get("workPK")'>
                  {{ buttons.btn(class='primary', mvc_click='save', text='Create') }}
                </span>
                <span mvc-show='this.$get("workPK")'>
                  {{ buttons.btn(class='primary', mvc_click='save', text='Update') }}
                  {{ buttons.btn(class='danger', mvc_click='delete', text='Delete') }}
                </span>
                {{ buttons.btn(class='secondary', mvc_click='clear', text='Clear') }}
              </div>
            </div>            
          </div>
        </div>
      </div>
    </div>
  
    <div aria-live="polite" aria-atomic="true" style="position: absolute; bottom: 5px; right: 0; z-index:20000">
      <div style="position: absolute; bottom: 5px; right: 0; min-width: 350px">
        <div class="toast" id="tenant-manage-workcodes-toast1" role="alert" aria-live="assertive" aria-atomic="true">
          <div class="toast-header">
            <strong class="mr-auto">TimeKeep</strong>
            <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="toast-body">
            <span mvc-text='toastMessage'></span>
          </div>
        </div>  
      </div>
    </div>
  </section>
  
  <script>
    (function() {
      var page = $('#tenant-manage-workcodes');
      var section = $('#tenant-manage-workcodes-section');
      var path = '/workcodes';
      var title = 'Payroll';

      App.mvcs[section[0].id] = {mvcObj: App.mvcObjs.tenant_manage_workcodes, page: page, section: section, path: path, title: title};
    })();
  </script>
</page>
