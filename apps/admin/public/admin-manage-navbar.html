<div id='admin-manage-navbar'>
  <nav class="navbar fixed-top navbar-expand-md navbar-light bg-primary">
    <span class="navbar-brand mb-0 h1">Admin</span>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item" id='admin-manage-navbar-tenants'>
          <a class="nav-link" href="tenants">Tenants</a>
        </li>
        <li class="nav-item" id='admin-manage-navbar-users'>
          <a class="nav-link" href="users">Users</a>
        </li>
        <li class="nav-item" id='admin-manage-navbar-migrate'>
          <a class="nav-link" href="migrations">Migrations</a>
        </li>
        <li class="nav-item">
          <span class="nav-link" mvc-on='{click: "logout"}' style='cursor: pointer'>Logout</span>
        </li>
      </ul>
    </div>
  </nav>

  <div class='row'>
    <div class='col-6'>
      <div class='page-heading'>
      </div>
    </div>
    <div class='col-6'>
      <div class='page-heading'>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  (function() {
    var modalEl = '#admin-manage-navbar';

    var mvcObj = {
      model: {
      },

      lifecycle: {
        created: function() {
          var self = this;

          return new Promise(function(resolve) {
            resolve();
          });
        },

        ready: function() {
        }
      },

      controllers: {
        logout: function() {
          var self = this;

          io.delete({}, '/admin/logout')
          .then(function(res) {
            if (res.status == 200) {
              location = res.data;
            }
            else {
              alert(res);
            }
          })
        },
      },

      watch: {
      }
    }
    
    var navbar = new MVC($(modalEl)[0], mvcObj);
    navbar.init();
  })();
</script>